
本文档主要介绍如何快速使用 Linux 系统的云服务器实例的相关功能，引导新手快速了解腾讯云云服务器的创建和配置。

## 步骤一：准备与选型
### 注册腾讯云账号
新用户需在腾讯云官网进行[【注册】](https://www.qcloud.com/register?s_url=https%3A%2F%2Fwww.qcloud.com%2Fdocument%2Fproduct%2F213)，注册指引可参考[如何注册腾讯云](https://www.qcloud.com/document/product/378/9603)。

### 确定云服务器所在地域
地域选择原则：
 - 靠近用户原则。
请根据您的用户所在地理位置选择云服务器地域。云服务器越靠近访问客户，越能获得较小的访问时延和较高的访问速度。比如：您的用户大部分位于长江三角洲附近时，上海地域是较好的选择。
 - 同地域内，内网互通；不同地域，内网不通。
相同地域下的云服务器可以通过内网相互通信（内网通信，免费）。
不同地域之间的云服务器不能通过内网互相通信（通信需经过公网，收费）。

### 确定云服务器配置需求
腾讯云提供如下推荐配置：[【推荐配置】](https://www.qcloud.com/act/event/recommand.html)
- 入门型：适用于起步阶段的个人网站。如：个人博客等小型网站。
- 基础型：适合有一定访问量的网站或应用。如：企业官网等简单的 Web 应用。
- 普及型：适合常使用云计算等一定计算量的需求。如：并发适中的 App 或普通数据处理。
- 专业型：适用于并发要求较高的应用及适合对云服务器网络及计算性能有一定要求的应用场景。如：企业运营活动、批量处理、分布式分析与视频和图片存储访问较大的网站。

若推荐的配置不能满足您的需求，您可以在[【更多机型】](https://buy.qcloud.com/cvm)中根据实际需要比较各配置方案。当然您也可以在购买云服务器之后，根据您的需求随时进行 [配置升级](http://www.qcloud.com/doc/product/213/%E8%B0%83%E6%95%B4CVM%E5%AE%9E%E4%BE%8B%E9%85%8D%E7%BD%AE#1.-配置升级) 或 [配置降级](http://www.qcloud.com/doc/product/213/%E8%B0%83%E6%95%B4CVM%E5%AE%9E%E4%BE%8B%E9%85%8D%E7%BD%AE#2.-配置降级) 。

### 确定付费方式
腾讯云提供 包年包月 和 按量付费 两种付费模式。详见 [计费模式说明](https://www.qcloud.com/document/product/213/2180) 。
若您选择按量付费，则需先完成 [资质认证](https://console.qcloud.com/developer/infomation) 。

## 步骤二：创建 Linux 云服务器
本步骤介绍 Linux 云服务器的创建，腾讯云提供 快速配置 和 自定义配置 两种方式。

 1\. 登录腾讯云官网，选择【云产品】-【计算与网络】-【云服务器】，点击【立即选购】按钮，进入 [云服务器购买页面](https://buy.qcloud.com/buy/cvm)。您可以点击页面顶部【快速配置】或【自定义配置】进入不同的创建页面：
 ![](//mc.qcloudimg.com/static/img/b86199b58f5aae4aa241027f823325c3/image.png)
 > 注释：初次购买的账户默认进入【快速配置】页面，购买过的用户默认进入【自定义配置】页面。
 
### 快速配置
![](//mc.qcloudimg.com/static/img/f2fa01129c6b25dcaeb1a169424011dc/image.png)
 2\. 选择镜像。快速配置向您推荐 Ubuntu Server 16.04.1 LTS 64 位 与CentOS 7.2 64位 的操作系统方案。
 
 3\. 选择机型。
 
 4\. 选择地域。靠近您客户的地域可降低访问延迟，提高下载速度。
 
 5\. 选择公网带宽。若不需要公网链接，带宽值选0 。
 
 6\.  选择服务器数量与购买时长。
 
 > **注意：**
 > 快速配置使用自动生成的密码，创建后密码会通过站内信发送给您。
 > 查看更多默认配置，在快速购买页面顶部，将鼠标留置【更多默认配置】即可。

### 自定义配置：选择地域与机型
![](//mc.qcloudimg.com/static/img/babdcee1af6a70057257f0403c11de9f/image.png)
2\. 选择计费模式：包年包月或按量付费（无法购买按量付费云服务器的用户请先进行 [资质认证](https://console.qcloud.com/developer/infomation) ）。计费模式更多信息请看 [这里](http://www.qcloud.com/doc/product/213/%E8%AE%A1%E8%B4%B9%E6%A8%A1%E5%BC%8F%E8%AF%B4%E6%98%8E) 。

3\. 选择地域和可用区。当您需要多台云服务器时推荐分别选择不同可用区以达到容灾效果。

4\. 选择机型和配置。
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据底层硬件的不同，腾讯云目前提供了 *系列 1* 和 *系列 2* （下文也称为 *上一代实例* 和 *当前一代实例* ）两种不同的实例系列，不同的实例系列提供如下实例类型：
  - 上一代实例类型：标准型S1，高IO型I1，内存型M1
  - 当前一代实例类型：[标准型S2](https://www.qcloud.com/doc/product/213/7154)，[高IO型I2](https://www.qcloud.com/doc/product/213/7155)，[内存型M2](https://www.qcloud.com/doc/product/213/7156)，[计算型C2](https://www.qcloud.com/doc/product/213/7157)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为获得最佳性能，我们建议您在新建实例时使用当前一代实例类型。实例类型详细说明，请参见 [实例类型概述](https://www.qcloud.com/document/product/213/7153) 。

>注释：不同的地域与可用区下的系列、机型会有所不同。

点击【下一步：选择镜像】按钮，进入选择镜像页面。

### 自定义配置：选择镜像
![](//mc.qcloudimg.com/static/img/0b3ca7557be4e092f5e56357d17302b8/image.png)
5\. 选择镜像提供方。
对于刚开始使用腾讯云的用户，推荐选择公共镜像

6\. 选择操作系统。
腾讯云提供了 CentOS、CoreOS、Debian、FreeBSD、OpenSUSE、SUSE、Tencent Linux、Ubuntu 操作系统，后续运行环境请您自行搭建。
 
7\. 选择系统版本。 

点击【下一步：选择存储与网络】按钮，进入选择存储与网络页面。

### 自定义配置：选择存储与网络
![](//mc.qcloudimg.com/static/img/3f826b7b8f925c8a7c2b5d2ab5182773/image.png)
8\. 选择硬盘类型和数据盘大小。
腾讯云提供云硬盘和本地硬盘两种类型。（均默认 50GB 系统盘，系统盘大小任选）
- 云硬盘：采用一盘三备的分布式存储方式，数据可靠性高
- 本地硬盘：处在云服务器所在的物理机上的存储设备，可以获得较低的时延，但存在单点丢失风险。具体对比可以参考 [这里](https://www.qcloud.com/document/product/362/2353#.E5.90.84.E7.A7.8D.E5.9D.97.E5.AD.98.E5.82.A8.E8.AE.BE.E5.A4.87.E7.9A.84.E5.AF.B9.E6.AF.94) 。

9\. 选择网络类型。
腾讯云提供 基础网络  或  私有网络  两种可选。
- 基础网络：适合新手用户，同一用户的云服务器内网互通。
- 私有网络：适合更高阶的用户，不同私有网络间逻辑隔离。

>**注意：**
> 公网网关是私有网络与公网的一种接口，可转发私有网络中不同子网内无外网 IP 的云服务器请求。更多详情请见公网网关

10\. 选择公网带宽。
腾讯云提供 按带宽计费 或 按使用流量计费 两种可选。
- 按带宽计费：选择固定带宽，超过本带宽时将丢包。适合网络波动较小的场景。
- 按使用流量计费：按实际使用流量收费。可限制峰值带宽避免意外流量带来的费用，当瞬时带宽超过该值时将丢包。适合网络波动较大的场景。

11\. 选择服务器数量。

12\. 选择购买时长与续费方式（仅限包年包月云服务器）。

点击【下一步：设置信息】按钮，进入设置信息页面。

### 自定义配置：设置信息
![](//mc.qcloudimg.com/static/img/61466ab8a482b9ac23a0ac0975fc70a6/image.png)
13\. 命名主机：您可选择创建后命名，也可立即命名。

14\. 登录信息设置：
 - 设置密码：输入主机密码设置。
 - 立即关联密钥：关联 SSH 密钥。如您没有密钥或现有的密钥不合适，可以点击【现在创建】按钮创建，参考 [创建密钥](http://www.qcloud.com/doc/product/213/%E5%AF%86%E9%92%A5%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97#1.-创建密钥) 指南。更多 SSH 密钥请见 [这里](http://www.qcloud.com/doc/product/213/SSH%E5%AF%86%E9%92%A5) 。
 - 自动生成密码：自动生成的密码将会以站内信方式发送。

15\. 选择安全组（<font color="red">确保登录端口 3389 开放</font>，更多信息见 [安全组](http://www.qcloud.com/doc/product/213/%E5%AE%89%E5%85%A8%E7%BB%84)） 。

点击【立即购买】按钮，完成支付后即可进入 [控制台](https://console.qcloud.com/cvm) 查收您的云服务器。

云服务器创建好后将会收到站内信，内容包括实例名称、公网 IP 地址、内网 IP 地址、登录名、初始登录密码等信息。您可以使用这些信息登录和管理实例，也请尽快更改您的 Linux 登录密码保障主机安全性。

查看站内信请见下一步骤。

## 步骤三：登录 Linux 云服务器
本部分操作介绍登录 Linux 云服务器的常用方法，不同情况下可以使用不同的登录方式，此处介绍控制台登录，更多登录方式请见   [登录 Linux 实例](https://www.qcloud.com/document/product/213/5436) 。

### 前提条件
登录到云服务器时，需要使用管理员帐号和对应的密码。

 * 管理员账号：对于 Linux 类型的实例，管理员帐号统一为 root （ Ubuntu 系统用户为 ubuntu ）
 * 密码：
   * 若用户在创建实例时选择【设置密码】，则密码为用户指定的密码。
   * 若用户在创建实例时选择【立即关联密钥】，详见[登录 Linux 实例](https://www.qcloud.com/document/product/213/5436) 。
   * 若用户在创建实例时选择【自动生成密码】，则初始密码由系统随机分配。能可以在下一环节（查看站内信及云服务器信息）中，获得信息。
   * 有关密码的更多内容请参考 [登录密码](/doc/product/213/6093) 。
   
### 查看站内信及云服务器信息
完成云服务器的购买和创建后，云服务器的实例名称、公网 IP 地址、内网 IP 地址、登录名、初始登录密码等信息都将以站内信的方式发送到账户上。
![](//mc.qcloudimg.com/static/img/c4db9cd86972c10f664650acf34536a3/image.png)

 1. 登录 [云服务器控制台](https://console.qcloud.com/cvm) 。登录后即可看到公网 IP 地址、内网 IP 地址等信息。

 2. 点击右上角【站内信】。

 3. 站内信页面即可查看新创建的云服务器，及登录名与密码等信息。


### 控制台登录云服务器
 1. 在云服务器列表的操作列，点击【登录】按钮即可通过 VNC 连接至 Linux 云服务器：
	![](//mccdn.qcloud.com/img56b1a6cb7b3e8.png)
	
 2. 输入帐号（root ，Ubuntu 系统用户为 ubuntu）和站内信中的初始密码（或您修改后的密码）即可登录。

>**注意：**
>该终端为独享，即同一时间只有一个用户可以使用控制台登录。

## 步骤四：分区与格式化数据盘

### 前提条件
 - 购买了数据盘的用户，需要格式化才可使用。未购买数据盘的用户可以跳过此步骤。
 - 请确保您已完成步骤三操作，登录到云服务器。

### 分区数据盘

 1. 通过步骤三介绍的方法登录 Linux 云服务器。

	> **注意：**
	> 仅支持对数据盘进行分区，不支持对系统盘进行分区。若您强行对系统盘分区可能导致系统崩溃等严重问题，针对此种情况腾讯云不承担赔偿责任。

 2. 输入命令```fdisk -l```查看您的数据盘信息。
	本示例中，有一个 54 GB 的数据盘(/vdb)需要挂载。
	>**注意：**
	>在没有分区和格式化数据盘之前，使用`df -h` 命令是无法看到数据盘的。

	![](//mc.qcloudimg.com/static/img/645123972400666d50127056f6bcdf50/image.png)

 3. 对数据盘进行分区。按照界面的提示，依次操作：

 	1. 输入```fdisk /dev/vdb```(对数据盘进行分区)，回车；
 	2. 输入```n```(新建分区)，回车；
 	3. 输入```p```(新建扩展分区)，回车；
 	4. 输入```1```(使用第1个主分区)，回车；
 	5. 输入回车(使用默认配置)；
 	6. 再次输入回车(使用默认配置)；
 	7. 输入```wq```(保存分区表)，回车开始分区。

	这里是以创建1个分区为例，开发者也可以根据自己的需求创建多个分区。

	![](//mc.qcloudimg.com/static/img/77de9b8970b4c42d2f0c22abe9ececa4/image.png)

	使用```fdisk -l```命令，即可查看到，新的分区vdb1已经创建完成。

	![](//mc.qcloudimg.com/static/img/35a6f29b0acdaf56bfe8954f082510ea/image.png)

### 格式化数据盘

 1. 新分区格式化
 分区后需要对分好的区进行格式化，您可自行决定文件系统的格式，如 ext2、ext3 等。本例以 ext3 为例。
使用下面的命令对新分区进行格式化： 
	```
	mkfs.ext3 /dev/vdb1
	```
	![](//mc.qcloudimg.com/static/img/2bf40ea4d015bc3337215175962a877e/image.png)

 2. 挂载分区
	使用以下命令创建 mydata 目录并将分区挂载在该目录下：
	```
	mkdir /mydata
	mount /dev/vdb1 /mydata
	```
	使用命令查看挂载：
	```
	df -h
	```
	出现如图信息则说明挂载成功，即可以查看到数据盘了。

	![](//mc.qcloudimg.com/static/img/30eb2a2a2ea92e9e87b83efdb074c3cd/image.png)

 3. 设置启动自动挂载
如果希望云服务器在重启或开机时能自动挂载数据盘，必须将分区信息添加到 /etc/fstab 中。
使用以下命令添加分区信息：
	```
	echo '/dev/vdb1 /mydata ext3 defaults 0 0' >> /etc/fstab
	```
	使用以下命令查看：
	```
	cat /etc/fstab
	```
	出现如图信息则说明添加分区信息成功。

	![](//mc.qcloudimg.com/static/img/e23e703bb8d0142432fe48ec1f381e05/image.png)
