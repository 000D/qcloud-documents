黑石负载均衡(LB)中七层监听器(HTTP/HTTPS)支持个性化配置功能，允许客户设置单 LB 实例的配置参数，如ssl_protocols、client_header_timeout等，以满足客户个性化配置需求；

### 1、个性化配置参数说明
当前个性化配置支持以下 12 个参数，如下表所示：

| 序号   | 配置参数                      | 默认值/建议值               | 参数范围                              | 说明                                       |
| ---- | ------------------------- | --------------------- | --------------------------------- | ---------------------------------------- |
| 1    | ssl_protocols             | TLSv1 TLSv1.1 TLSv1.2 | TLSv1 TLSv1.1 TLSv1.2 SSLv2 SSLv3 | 使用的TLS协议版本：[SSLv2] [SSLv3]不建议使用，后续会增加TLSv1.3 |
| 2    | client_header_timeout     | 60s                   | [30-120]s                         | 获取到client请求头的超时时间, 超时返回408               |
| 3    | client_header_buffer_size | 4k                    | [1-16]k                           | 存放客户端请求头部的默认buffer大小                     |
| 4    | client_body_timeout       | 60s                   | [30-120]s                         | 获取client请求body的超时时间，并非获取整个body的持续时间，而是指空闲一段时间没有传输数据的超时时间，超时返回408 |
| 5    | client_max_body_size      | 60M                   | [1-256]M                          | 客户端请求body的最大值，尤其是上传业务可能需要修改。超出后会返回413    |
| 6    | keepalive_timeout         | 75s                   | [0-3600]s                         | client-server长连接保持时间，设置为0则禁用长连接          |
| 7    | add_header                | 用户自定义添加               | -                                 | 向客户端返回特定的头部字段，格式为xxx yyy;                |
| 8    | more_set_headers          | 用户自定义添加               | -                                 | 向客户端返回特定的头部字段，格式为"Name:Value";           |
| 9    | proxy_connect_timeout     | 4s                    | [4-120]s                          | upstream后端连接超时时间                         |
| 10   | proxy_read_timeout        | 60s                   | [30-3600]s                        | 读取upstream后端响应超时时间                       |
| 11   | proxy_send_timeout        | 60s                   | [30-3600]s                        | 向upstream后端发送请求的超时时间                     |
| 12   | proxy_buffer_size         | 8k                    | [8-64]k                           | 存放后端RS请求头部的默认buffer大小                    |

### 2、个性化配置示例
⑴在黑石负载均衡控制台，选择左侧个性化配置页面，单击新建，创建个性化配置，选择配置项参数值：
![](https://main.qcloudimg.com/raw/ce9fe77e3df1912c10380fb0625738b1.png)

⑵创建个性化配置后，可以单击 绑定实例，选择绑定到同地域的负载均衡实例：
![](https://main.qcloudimg.com/raw/4a41d1831fd807d67478f428d6635a38.png)

⑶绑定实例后，可以在负载均衡实例列表页中找到对应的个性化配置信息：
![](https://main.qcloudimg.com/raw/03cc57f1d93cc5c6f8991b4c13ccca4e.png)

>**注意：**
- 个性化配置每地域最多 200 条；
- 一个负载均衡实例仅允许绑定一个个性化配置；
- 个性化配置仅针对内/外网七层监听器 HTTP/HTTPS 生效；
