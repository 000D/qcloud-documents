本文档主要介绍如何使用腾讯云边缘函数，在您的自有设备上实现函数运行，消息转发。本文中使用了 CVM 云服务器模拟您的自有设备。


### 依赖条件及配置方法

在创建边缘函数中的云端设备对象前，需要完成：

* IOT MQ 的实例创建
* 对应 IOT MQ 实例的用户名及密码准备，用于设备连接到 IOT MQ 实例。

1. 登录[腾讯云控制台](https://console.cloud.tencent.com/)，将鼠标依次移至【云产品】、【互联网中间件】，单击【消息服务 IOT MQ】进入 IOT MQ 控制台。
2. 选择广州地域后点击【新建】，创建新的 IOT MQ 实例。
3. 通过点击左侧菜单栏中的【客户端签名计算】，进入签名计算工具栏。通过输入账号的 SecretId、SecretKey，以及选择刚刚创建的 IOT MQ 实例，获得计算结果，并记录结果中的用户名及密码字段。

> 请妥善保存记录计算后的用户名及密码字段。此内容作为与 IOT MQ 实例进行连接的认证信息，将在后面的配置中多处使用。 


### 创建及配置云端设备对象

1. 登录 [腾讯云控制台](https://console.cloud.tencent.com/)，将鼠标依次移至【云产品】、【云计算与网络】，单击【无服务器云函数】进入无服务器云函数控制台。
2. 通过左侧菜单栏的【边缘函数】、【设备管理】，进入边缘函数的设备管理界面。
3. 选择广州地域，单击【新增】按钮，进入新增设备页面。
4. 输入便于记忆的设备名，选择在依赖配置中创建的 IOT MQ 实例，并输入通过依赖配置中的【客户端签名计算】所获得的用户名及密码内容。
5. 点击【完成】，创建新的云端设备配置对象。

### 创建后的云端设备对象

创建后的云端设备对象，包括有【基本信息】、【函数】、【消息规则】三项相关信息。

* 基本信息：记录设备的名称，设备唯一 ID，通讯链接的 MQTT 地址，及通讯相关的认证信息。
* 函数：记录与此设备绑定的云函数、运行配置信息及同步情况。
* 消息规则：记录与设备绑定的消息规则及同步情况。
