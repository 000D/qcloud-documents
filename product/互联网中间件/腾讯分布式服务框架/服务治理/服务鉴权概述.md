服务鉴权是为了解决微服务之间相互访问的权限解决方案。服务提供者通过配置中心下发的鉴权规则来判断是否处理服务消费者的请求。目前 TSF 提供两种类型的服务鉴权规则：

- 基于服务名的鉴权规则：根据服务消费者的服务名决定是否通过鉴权模块。
- 基于 Tag 的鉴权规则：通过请求中携带的 Tag 参数来决定是否通过鉴权模块、

以下为基于 Tag 的鉴权流程：

1. 在服务消费者的业务代码中设置 tag 信息。
2. 通过 TSF 控制台下发鉴权规则给服务提供者。
3. 服务消费者在调用服务提供者的接口时，会带上 tag 信息。服务提供者的鉴权模块会根据鉴权规则和请求来判断鉴权是否通过，如果通过，继续处理请求；如果不通过，则返回未授权的响应（Unauthorized Response)。

![](https://main.qcloudimg.com/raw/c4f1a360d2fbab1c4924b391a3dc4787.png)

## 