### Memcached 监控是什么？
1.腾讯云Memcached监控提供全方位的监控数据和自定义告警功能，监控指标包括负载监控，访问统计，网络流量等重要指标。
2.监控数据通过部署在每台母机上的Agent进行定时采集，然后上报给数据中转节点，通过中转节点进行数据检查，汇总，然后批量上报给云监控系统Barad(腾讯内部系统)，Barad提供数据展示、数据查询API以及自定义告警等功能。
3.监控图示可以在实例详情列表中查看。
4.可以查看近30天的监控数据。
![图片描述](//bot1024-1253841380.file.myqcloud.com/598976d75a7e4.png)

### Memcached 在线扩容原理是什么？
- 云缓存Memcached会自动扩容以保证用户实例始终有20%的可用空间，防止业务因缓存实例不能写入而受损。理论上单个实例没有容量上限。
- 实例需要扩容时，首先会检查实例当前所在的各个存储机的剩余空间是否满足扩容需求，如果满足则直接原地扩容，否则需要增加额外的存储机。
![图片描述](//bot1024-1253841380.file.myqcloud.com/5989774f4b2ee.png)

### Memcached 的应用场景有哪些？
-  游戏数据场景
游戏单区单服场景中，腾讯云Memcached可以作为缓存层，存储非角色类数据，如排行榜等。高性能的特性满足区服玩家需要快速访问数据的场景需求，您无需设计复杂的后端系统来应对高并发量。
- 站点数据缓存
若网站包含访问量很大的动态网页，则数据库的负载将会很高。由于大部分数据库请求都是读操作，您可以通过腾讯云Memcached来缓存网页静态数据来减小数据库负载，提高用户访问页面的速度。
- 社交应用
社交应用需要引用大量的用户信息、好友信息等，如果这些功能全部直接跨表或跨库操作数据库，会带来极大的效率损耗和系统负载。您可以使用腾讯云Memcached将这类数据全部缓存下来，可以极大程度提高访问速率。
- 电商数据缓存
电子商务网站商品分类数据、商品搜索结果的列表数据以及可查看的商品数据和商家的基本数据，这类数据访问量特别高但不会经常改变。在该场景下，您可以通过腾讯云Memcached将这类数据缓存起来进行快速读写，提高访问速率。

### Memcached 自动容灾原理步骤是什么？
1.云缓存Memcached单个实例的数据保存在多组机器上面，每一组采用双机热备架构，当其中一个节点发生故障时，会对应的用新的节点替换掉故障节点。
2.当主机节点故障时，接入机会把读写请求发送到原来的从机节点，同时会新增一个从机节点开始从新的主机拷贝数据，最终完成主从的数据同步。
3.当从机节点故障时，直接加入新的从机节点。
4.任意节点的替换都可以由系统自动处理，亦可人工切换。
![图片描述](//bot1024-1253841380.file.myqcloud.com/70e3092a9ce311e780b9525400a3183e.png)
 
###  Memcached 如何退还表？
控制台—勾选退还表—单击“退还选中表”—提交退还。
注意：
表退还后，不可以再恢复，请在退还前确认表中的数据已经备份或不再使用。
进入管理中心的云缓存Memcached管理视图页面，勾选需要退还的表，然后单击“退还选中表”按钮，单击“提交退还”按钮后，后台开始清理表数据并删除表。
![图片描述](//bot1024-1253841380.file.myqcloud.com/c55903aa9ce411e78624525400a3183e.png)

### Memcached 如何开启 expire 过期删除？
1.要使用expire功能，首先需要在腾讯云管理控制台打开对应CMEM实例的expire开关
![图片描述](//bot1024-1253841380.file.myqcloud.com/ebaa01da9ce411e780b9525400a3183e.png)
2.开启expire功能后，需要在代码里设置key的有效期，具体请参考各语言memcached设置方法。
3.注意，开启expire功能前设置的key是不会自动过期的。

### Memcached 如何查看监控信息？
在NoSQL管理页面单击左侧监控视图按钮进入监控信息页面。
指标说明详见： [云缓存Memcached监控指标说明](https://cloud.tencent.com/document/product/248/1081) 。

### Memcached 如何数据回档？
请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。

### Memcached 如何实现表扩容？
表扩容指的是增加表的占用空间，即存储扩容。
云缓存Memcached自动会为每个业务每日预留约20%的空间作为数据增长buffer。例如业务的使用空间为80G，则会分配96G作为业务的占用空间。
如果业务数据日增长量超过20%，需要提交扩容申请(详情请联系 [提交工单](https://console.cloud.tencent.com/workorder/category) )。
云缓存Memcached扩容过程是数据搬迁过程，不会影响命中率。

### Memcached 如何实现表缩容？
表缩容指的是减少表的占用空间，也即存储缩容。因为需要预留缓冲空间，缩容后表使用率不会超过80%。表缩容的最小粒度是1GB，如果缩容会造成使用率超过80%，则不能进行缩容。
例如：
表占用空间为2GB，使用率为41%，这种情况就不能缩容了，因为减少1GB后，表的使用率会超过80%。
目前云缓存Memcached的表暂不支持自动缩容，如表需要缩容则可 [提交工单](https://console.cloud.tencent.com/workorder/category) 申请，之后需运维人员操作缩容。
在申请缩容之前，计费时仍然会按照原占用空间（包括在原使用空间的基础上自动扩容的缓冲空间）的峰值进行计算。

### Memcached 如何实现接口扩容、端口扩容、开启 expire 、关闭 exipre？
云缓存Memcached的接口扩容、端口扩容，需提交申请(详情请联系 [提交工单](https://console.cloud.tencent.com/workorder/category) )。
然后由腾讯技术支持人员后台人工处理。 
开启expire、关闭expire，如果页面无法操作，也可以按照模板 [提交工单](https://console.cloud.tencent.com/workorder/category) 申请实现。
