
### Redis4.0简介
Redis4.0版本是一个全新的Redis引擎版本，4.0版本将采用原生的分布式架构，通过一个产品形态支持单机、主从、集群以及多副本集，支持垂直和水平扩容和缩容，做到最大的灵活性。Redis4.0支持水平方向1～128分片的扩展，垂直方向支持0～5个副本集的扩展<br>
![](https://main.qcloudimg.com/raw/a5dc658ec13ce6f298f0e67621a311cc.png)

### Redis4.0版本规格
分片规格：0.25、1、2、4、8、12、16、20、24、28、32GB；<br>
分片数量：1、3、5、8、12、16、24、32、40、48、64、80、96、128片；<br>
副本数量：0、1、2、3、4、5个；<br>

集群模式：当分片数大于1时，Redis自动启用集群模式，集群模式支持的最小分片规格为4GB，集群模式对于一些跨分片的命令进行了有限的支持，具体请看兼容性介绍；<br>
副本说明：当副本数等于0时，Redis将不提供数据高可靠保证，节点故障后会启用一个新的无数据的节点提供服务，当副本数量大于1时，可启用副本只读功能；



### 4.0版本特点

 - **高度的灵活性** <br>
Redis4.0版本支持最小的一个节点到最大128个节点的水平扩容和缩容，支持垂直的0个副本集到5个副本集的扩容和缩容，通过一个实例的调整支持多种应用场景；
 - **极致的系统可用性** <br>
Redis4.0版本的扩容、缩容对业务完全无感知，做到最大的系统可用性；

### 跨可用区容灾

Redis4.0支持跨可用区容灾，每个可用区独立的VIP，满足容灾和就近接入的需求，每个可用区都支持读写，但是在备用可用区都写入将转发到主可用区，这样可能会导致时延增加，建议备可用区只读；
![](https://main.qcloudimg.com/raw/0f96008d5c503e3124737d9bd2ca80ab.png)

### 适用场景

 - **纯缓存场景** <br>
通过配置0个副本集，Redis4.0提供单机版本的Redis服务，单副本版本只有一个数据库节点，节点出现故障时，系统会重新拉起一个 Redis 进程（**没有数据**），当节点故障业务自动切换完成后，应用程序需要将数据重新预热，以免对后端数据库产生访问压力冲击。
注意：由于单副本模式不能提供数据可靠性，节点故障后需要业务进行预热，如果是对数据可靠性要求较高的敏感性业务，不建议使用单副本版，可选用双副本高可用版。

 - **主从高可用场景**  <br>
通过选择单个节点并为节点选择1个副本集，从而达到主从高可用，提供双机热备，故障自动切换的能力，保证Redis服务的高可用和高可用；

 - **读写分离场景**  <br>
当配置的节点副本数大于1个时，云数据库Redis将自动提供读写分离能力，在垂直层面提单节点读性能扩充，最大支持5个副本集，支持配置主节点以及各副本节点的读访问权重；
 
 - **多分片高性能场景**  <br>
 当配置的节点数大于1分片时，云数据库Redis将自动启动分配模式，通过将不同的Key分配到多个节点达到水平扩充系统性能的能力；
 

### 使用限制
