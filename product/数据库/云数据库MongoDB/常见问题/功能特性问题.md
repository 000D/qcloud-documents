
### MongoDB 应该选哪个版本的驱动程序？
尽量用最新版本的，比如 PHP 可以选择 mongo-1.6 及以上。
 
### MongoDB 提供哪些语言连接方式？
云数据库 MongoDB 提供多种语言连接方式，如 Shell、PHP、Node.js、Java、Python。连接示例请请参见 [连接说明](https://cloud.tencent.com/document/product/240/3563) 文档。

### 如何得到实例的慢查询？
请使用官网的慢查询功能中获取慢查询详情，后续会推出慢查询分析及下载功能。

### MongoDB是否支持外网访问？
 不支持，用户如有外网需求，需要直接搭建代理，购买CVM，通过内网的方式进行访问。

### MongoDB 是否支持无密码访问？
基于安全原因，MongoDB 不支持无密码访问。

### mongodump 无法导出数据？
 mongodump 使用参考 [导入导出](https://cloud.tencent.com/document/product/240/5321) 文档，mongodump 工具建议使用 3.2.10 以上版本。

### 如何设置从库 dump？
 在 mongodump 的参数中设置--readPreference=secondaryPreferred。
 
### 产品售卖区域有哪些？
 主要是广州、上海、北京、香港，上海金融，深圳金融，其他地域在测试中，会陆续开放。

### 云数据库 MongoDB 版是否支持动态添加 Secondary 节点？
目前暂时不支持，该功能在内测中，尽请期待。

### 云数据库 MongoDB 与自建 MongoDB 的区别？
详细参见 [产品优势](https://cloud.tencent.com/document/product/240/3545) 文档。

### 云数据库 MongoDB 版支持哪些语言的客户端进行连接？
云数据库 MongoDB 版针对客户端连接完全兼容 MongoDB，只要是官方 MongoDB 版支持的客户端，云数据库全部支持。比如：C,C++,c#,java,node.js,python,php,perl等，具体详情见官方链接参见[https://docs.mongodb.org/ecosystem/drivers/](https://docs.mongodb.org/ecosystem/drivers/)。

### 在 shell 里怎么连接腾讯云 MongoDB？
详细请参见 [Shell连接示例](https://cloud.tencent.com/doc/product/240/3978) 文档。

### 业务程序里连接 MongoDB 的 URI 是什么样的？
详细请参见 [连接示例](https://cloud.tencent.com/doc/product/240/3563) 文档。

### 用 meteor 等各类框架、类库无法连接腾讯云 MongoDB？
一般来说都是连接方式、URI 拼接错误，请先检查核实。

### 使用时如发现连接时好时坏怎么处理？
有可能是长时间没访问，我们会踢掉空闲连接，驱动没实现自动重连，需要程序实现重连（参考经验值：重试 3 到 5 次，sleep 100ms 左右）。

### oplog 大小是多少，是否支持调整？
oplog 为实例容量的 10%，不支持调整。

### 购买的容量是否包含 oplog？
由于 oplog 存在 MongoDB 数据库内部，所以会占用部分用户的购买容量，默认是 10%。

### MongoDB 回档功能是否能回档到任意时间点？
由于备份数据保留 5 天，所以可以回档到 5 天内的时间点。特别说明的是回档时需要选择两次备份之间的时间点进行回档（如果您想回档的时间点后没有备份，请做一次手动备份即可选择该时间点）。另外，如果两次备份期间的数据操作导致oplog 总流水超过实例容量的 10%，则该两次备份之间的时间点不可回档。

### 当前开放了哪些角色权限？
当前只开放 [RoleDBAdminAny和RoleReadWriteAny](https://docs.mongodb.org/v3.0/reference/built-in-roles/) 两种角色的权限，暂时不开放 root 权限，后续会逐步放开一些权限，以及开放更多便捷实用的管理控制台功能来代替某些特殊权限的调用。

### 数据导入到腾讯云 MongoDB 实例后，占用空间比自建的 MongoDB 小？
可能原因是原始数据库长时间运行积累了大量的增删改操作，写操作时 MongoDB 出于性能考虑在空间分配时分配了大于实际数据的空间，删除数据后原空间没有被再次利用，综合下来导致整个数据库空间的空洞率较高，而导入数据时相当于做了一次类似磁盘整理的操作，使导入后的数据保存得相对紧凑，所以看起来数据变小了。

### show dbs 或者监控数据里看到数据库占用空间比实际数据大？
show dbs 或者监控数据里的占用空间包括了 oplog 的数据空间，oplog 默认为所选磁盘的 10%。
数据插入时会需要额外的空间存储 BSON 结构和索引，所以存储的空间比实际数据大。
当前所用的 MMAPv1 引擎会对单条数据会分配额外的空间来存储数据，所以就会耗掉更多空间。

### 如何使用 mongoose 连接腾讯云数据库MonogoDB？
详细参见 [腾讯云 BBS](http://bbs.qcloud.com/thread-17852-1-1.html)。

### 磁盘使用率达到 100% 会发生什么？
此时实例将处于封禁状态，该状态下不可写入数据，只能做读操作，尝试写入数据的连接将会被关闭。请及时关注自身业务发展和实例使用情况，当容量使用达到一定阈值时请适当扩容。

### 连接断开或者出现“Remote server has closed the connection”信息怎么办？
首先参考 [连接示例](https://cloud.tencent.com/doc/product/240/3563) 排除认证问题，如果能连上但是依然会出现这个问题那可能需要实现一个重连机制，请参考 [实现重连](https://cloud.tencent.com/doc/product/240/4980)。
