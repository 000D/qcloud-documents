### 分表是什么意思？
- 关于分表的概念，详情请见[分库分表文档](https://www.qcloud.com/document/product/557/8764#.E5.BB.BA.E8.A1.A8)。

### DCDB 应如何选择实例规格？
- 关于 DCDB 类型、分片规格的选择，详情请见 [DCDB 实例及分片配置文档](https://www.qcloud.com/document/product/557/9347)。

### DCDB 的语法和 MySQL 有哪些不兼容的部分？使用过程中有什么限制吗？
- DCDB 目前版本有一些用户权限相关的限制，对一些特性（比如：视图、触发器、外键等）以及某些 SQL 语法暂不支持。详情请见[使用限制文档](https://www.qcloud.com/document/product/557/8765)。

### 应该如何选择分表键？
- 分表键是在水平拆分过程中用于生成拆分规则的数据表字段，必须在建表时就指定好。DCDB 建议分表键要尽可能找到数据表中的数据在业务逻辑上的主体，并确定大部分（或核心的）数据库操作都是围绕这个主体的数据进行，然后可使用该主体对应的字段作为拆分键，进行分表（该分表方案叫做 Group-Shard），如下图所示：
![](https://mc.qcloudimg.com/static/img/b7ed0dd48a27c0c534fa490f56b6605d/groupshard.png)
- 按组分表方案可以确保不同分表的某些关联数据和复杂的业务逻辑运算，可以聚合到一个物理分片内。例如，某电商平台订单表和用户表都是基于用户维度（ UserID ）拆分，平台就可以很容易的通过联合查询（不会存在跨节点 join ，或分布式事务）快速计算某个用户近期产生了多少订单。
- 下面的一些典型选择拆分键的应用场景：
 - 面向用户的互联网应用，都是围绕用户维度来做各种操作，那么业务逻辑主体就是用户，可使用用户对应的字段作为拆分键。
 - 电商应用或 O2O 应用，都是围绕卖家/买家维度来进行各种操作，那么业务逻辑主体就是卖家/买家，可使用卖家/买家对应的字段作为拆分键。但请注意，某些情况下几个超大卖家占到绝大多数交易额，这种情况会导致某几个分片的负载和压力明显高于其他分片，我们会在后面章节予以说明。
 - 游戏类的应用，是围绕玩家维度来做各种操作，那么业务逻辑主体就是玩家，可使用玩家对应的字段作为拆分键。
 - 物联网方面的应用，则是基于物联信息进行操作，那么业务逻辑主体就是传感器/ SIM 卡，可使用传感器、独立设备、SIM 卡的 IMEI 作为对应的字段作为拆分键。
 - 税务/工商类/社保的应用，主要是基于纳税人/法人/居民的信息来开展前台业务，那么业务逻辑主体就是纳税人/法人，可使用纳税人/法人对应的字段作为拆分键。
- 以此类推，其它类型的应用场景，大多也能找到合适的业务逻辑主体作为拆分键的选择。
- 同时，在选择分表键时有一定限制，详情请见[分表键选择限制]((https://www.qcloud.com/document/product/557/8767#shardkey.E9.80.89.E6.8B.A9.E7.9A.84.E9.99.90.E5.88.B6))。

### 分表键能更换吗？
- 一旦选择好分区字段（shardkey），就不能轻易更改。若需要修改一个表的分区字段，只能新建一个表。
- 若需要修改一个分表某一行中的 shardkey 值，需要先 insert 再 delete 。直接操作 update 不能修改分区字段的值。

### 在分表中操作不包含分区字段只影响效率吗？
- 使用分表时，在执行操作 select 时最好带上分区字段（shardkey），路由将自动跳转到对应分片，效率较高。若没带上亦可执行，但系统将会自动全表扫描，效率较低。
- 使用分表时，在执行操作 insert/replace 或 delete/update 时必须包含 shardkey，否则会拒绝执行操作。操作 insert/replace 需要 shardkey 指明将数据插入的物理分片位置，操作 delete/update  则出于安全考虑避免误删。

### DCDB 是否支持分布式 JOIN 和 TRANSACTION ？
- DCDB 目前只支持单个分片字段下的 JOIN 和 TRANSACTION 和跨节点的 TRANSACTION ，跨节点的 JOIN 暂不支持。