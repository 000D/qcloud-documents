## 1 产品简介
游戏更新服务，根据游戏版本更新的特点将程序文件、资源文件的更新规则进行统一封装，结合CDN、文件处理、下载和游戏引擎等技术，提高游戏版本发布速度和效率，符合游戏的多种运营策略和多种应用场景；在版本更新，活动运营，bug修复，客户端校验等方面均可有效的使用。同时多平台统一方案，接入方便，内部实现更新动态差异，有效减少更新下载量，减少游戏开发商以及用户的流量费用，有效减少因为游戏更新导致的用户流失。

## 2 产品功能介绍
1.支持游戏内资源热更新，不需要重新安装；  
2.版本强制与可选更新，多版本同时运营，多版本分别更新游戏内容；  
3.灰度更新，小规模用户测试新版本验证再全量发布；  
4.多种灰度策略支持；  
5.多渠道统一发布，多渠道省流量更新，并保留渠道内容，不影响渠道sdk接入上架，不影响ios审核；  
6.IOS下审核版本发布不影响外网用户，审核通过，快速通知用户更新。  

## 3 应用场景
客户端更新流程


启动升级：游戏启动第一个场景，登录之前，主要的升级阶段。
灰度升级：登录（选区）之后，辅助升级阶段，经过此升级，指定灰度用户可以使用特定的游戏版本
游戏版本结构


升级版本结构如图分为一条程序版本线（横向），以及每个程序版本下有一条该程序对应的资源版本线。升级关系按版本创建的先后排序。
版本线上版本属性

强制：为最低可用版本

版本线上的节点按照版本线上顺序，不可逆。
每一个版本包含两个用户属性：普通用户属性和灰度用户属性，相互独立
每个属性有三种类型
无：表示没有该版本不针对此类用户，初始状态
不可用：表示版本对此类用户不可用，需要升级才能进入游戏
可用：表示当前状态下，此类用户可以使用此版本进行游戏
版本升级策略
版本线上的版本根据属性分成两个集合：普通，灰度

启动升级阶段：
1.本地版本如果属于普通集合（版本属性含有普通可用或普通不可用），则在普通集合中查找升级版本
2.如果不属于普通集合，属于灰度集合（版本属性含有灰度可用或灰度不可用），则在灰度集合中查找升级版本
3.如果既不属于普通，也不灰度集合，在普通集合中查找升级版本，等同普通用户不可用。
4.不可用状态下发最新可用版本的强制更新
5.当前版本是非最新可用版本（即当前版本可用，但是不是最新的），下发最新可用版本的可选更新
6.当前版本是最高可用版本，下发不更新
如图所示：
1，2 -> 6(强制)
3，4 ，5 -> 6(可选)
6 -> 6(不更新)
7 -> 8(可选)
8 -> 8(不更新)
灰度升级阶段：
符合灰度策略（当前用户是灰度用户），当前版本不属于灰度可用版本，强制升级到灰度可用最高版本
1，2，3，4，5 -> 8(强制)
符合灰度策略，当前版本属于灰度可用版本不更新
6，7 ，8->8(不更新)
不符合灰度策略（当前用户是普通用户），当前版本不属于普通可用版本，强制升级到可用最高版本
1，2， 7，8 –> 6(强制)
不符合灰度策略，当前版本属于可用版本不升级
3，4，5，6 -> 6(不更新)
注：每个版本还可以指定一个审核属性，表示当前版本处于审核状态，表示任何版本无法升级到此版本，即使带可用属性，此版本可以正常游戏，即当前版本是审核版本的不升级)