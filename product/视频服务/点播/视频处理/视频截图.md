所谓视频截图，是指截取视频特定位置的图像，并生成图片。点播系统支持如下几种视频截图方式：

1. 指定时间点截图(SnapshotByTimeOffset)：指定一组时间点，截取视频在这些时间点的图像；
1. 采样截图(SampleSnapshot)：以固定的时间或者百分比间隔，对视频进行截图；
1. 雪碧图(ImageSprite)：以固定的时间或者百分比间隔，截取一系列图片，并以雪碧图的方式组织。

除此之外，与媒资系统结合，点播系统还支持：
1. 截取指定时间点的图像作为视频封面。

## 指定时间点截图
### 指定时间点截图能力综述

指定时间点截图操作存在多项参数，我们使用“指定时间点截图模板”来作为各项截图操作参数的“容器”（时间点信息不包含在模板中，需要在调用接口时额外传递）。在发起指定时间点截图时，只需要指定模板ID即可。

为方便开发者的调用，点播系统预置了一组指定时间点截图模板，参见[预置指定时间点截图模板]()。如果预置模板无法满足您的需求，可以通过工单到点播系统配置新的模板。

指定时间点截图模板参数与能力值如下表所示：
<table>
	<tr>
        <th style="width:18%">
            分类               
        </th>
        <th style="width:22%">
            参数/控制项
        </th>
        <th>
            说明
        </th>
    </tr>
     <tr>
        <td rowspan=3>
            图像参数</a>
        </td>
        <td>
            输出格式(Format)
        </td>
        <td>
            支持JPG，PNG两种输出格式。
        </td>
    </tr>
    <tr>
        <td>
            宽度(Width)
        </td>
        <td>
            TODO：宽度范围。
        </td>
    </tr> 
    <tr>
        <td>
            高度(Height)
        </td>
        <td>
            TODO：高度范围。
        </td>
    </tr> 
	<tr>
        <td rowspan=2>
            截图控制参数
        </td>
        <td>
            填充方式(FillType)
        </td>
        <td>
            目前仅支持拉伸填充。
        </td>
    </tr>
    <tr>
        <td>
            自动缩放
        </td>
        <td>
            支持依照宽度或者高度进行自动缩放。
        </td>
    </tr>
</table>

### 发起指定时间点截图

目前暂时仅支持通过服务端API发起指定时间点截图，参见：

- 服务端API：[指定时间点截图(CreateSnapshotByTimeOffset)](/document/product/266/8102)。

### 获取指定时间点截图的结果

可以通过如下两种方式获取指定时间点截图的结果：

- 在发起指定时间点截图任务之后，根据任务ID查询该任务的状态与结果，参见[事件通知与任务管理](/document/product/266/7829)；
- 在指定时间点截图任务成功执行完毕之后，截图结果将被绑定到媒资，参见服务端API：[获取视频信息(GetVideoInfo)](/document/product/266/8586)。

## 采样截图
所谓采样截图，是指依照相同的时间间隔对视频进行采样，截取采样点的视频图像信息，并生成多张图片。

### 采样截图能力综述
采样截图操作存在多项参数，我们使用“采样截图模板”来作为这些参数的“容器”。在发起采样截图时，只需要指定模板ID即可。

为方便开发者的调用，点播系统预置了一组采样截图模板，参见[预置采样截图模板]()。如果预置模板无法满足您的需求，可以通过工单到点播系统配置新的模板。

采样截图模板参数与能力值如下表所示：

<table>
	<tr>
        <th style="width:18%">
            分类               
        </th>
        <th style="width:22%">
            参数/能力项
        </th>
        <th>
            说明
        </th>
    </tr>
    <tr>
        <td rowspan=3>
            图像参数</a>
        </td>
        <td>
            输出格式(Format)
        </td>
        <td>
            支持JPG，PNG两种输出格式。
        </td>
    </tr>
    <tr>
        <td>
            宽度(Width)
        </td>
        <td>
            TODO：截图宽度。
        </td>
    </tr> 
    <tr>
        <td>
            高度(Width)
        </td>
        <td>
            TODO：截图高度。
        </td>
    </tr> 
	<tr>
        <td rowspan=3>
            截图控制参数
        </td>
        <td>
            填充方式(FillType)
        </td>
        <td>
            目前仅支持拉伸填充。
        </td>
    </tr> 
    <tr>
        <td>
            自动缩放
        </td>
        <td>
            TODO：自动缩放能力。
        </td>
    </tr>
	<tr>
        <td>
            采样方式(SampleType)
        </td>
        <td>
            支持两种采样方式：
            <li>Percent：根据视频时长的百分比间隔采样，例如：取值为5意味着，采样截图的间隔为视频时长的5%，总共会截出20张图片；</li>
            <li>Time：根据时间间隔采样，例如：取值为5意味着采样间隔为5秒。</li>
        </td>
    </tr> 
</table>


### 发起采样截图
目前暂时仅支持通过任务流相关接口发起指定时间点截图，参见：
- [使用任务流处理视频](/document/product/266/11700#.E4.BD.BF.E7.94.A8.E4.BB.BB.E5.8A.A1.E6.B5.81.E5.A4.84.E7.90.86.E8.A7.86.E9.A2.91)。

### 获取采样截图的结果
可以通过如下两种方式获取采样截图的结果：

- 在发起采样截图任务之后，根据任务ID查询该任务的状态与结果，参见[事件通知与任务管理](/document/product/266/7829)；
- 在采样截图任务成功执行完毕之后，截图结果将被绑定到媒资，参见服务端API：[获取视频信息(GetVideoInfo)](/document/product/266/8586)。

## 雪碧图(ImageSprite)
所谓Image Sprite，是指将需要分别显示的多张小图合并成为一张大图，并通过一定的方法对个张小图进行分开展示的技术。该技术的主要优势在于，可以通过一次请求获取多张图片的信息，从而大幅降低图片请求数量，提高客户端性能。

> 注：
> Image Sprite这一术语来源于CSS Image Sprite，正式翻译应当为CSS图片精灵。在国内被俗称为“雪碧图”的原因是，可口可乐®公司一款饮料产品“Sprite”在国内的商标为“雪碧”。

### 雪碧图截图能力综述
雪碧图截图操作存在多项参数，我们使用“雪碧图截图模板”来作为这些参数的“容器”。在发起雪碧图雪碧图截图时，只需要指定模板ID即可。

雪碧图参数示意如下：
![图：雪碧图参数示意](//mc.qcloudimg.com/static/img/a108415925bdeb21de9b25f784d9177b/image.png)

为方便开发者的调用，点播系统预置了一组雪碧图截图模板，参见[预置雪碧图截图模板]()。如果预置模板无法满足您的需求，可以通过工单到点播系统配置新的模板。

雪碧图截图模板参数与能力值如下表所示：
<table>
	<tr>
        <th style="width:18%">
            分类               
        </th>
        <th style="width:22%">
            参数/能力项
        </th>
        <th>
            说明
        </th>
    </tr>
     <tr>
        <td rowspan=7>
            截图处理参数
        </td>
        <td>
            输出格式(Format)
        </td>
        <td>
            支持JPG，PNG。
        </td>
    </tr>
    <tr>
        <td>
            小图宽度(Width)
        </td>
        <td>
            截图宽度，单位：px。
        </td>
    </tr> 
    <tr>
        <td>
            小图高度(Height)
        </td>
        <td>
            截图高度，单位：px。
        </td>
    </tr> 
    <tr>
        <td>
            行数(Row)
        </td>
        <td>
            大图中有多少行小图。
        </td>
    </tr> 
	<tr>
        <td>
            列数(Column)
        </td>
        <td>
            大图中有多少列小图。
        </td>
    </tr>
	<tr>
        <td>
            截图间隔(Interval)
        </td>
        <td>
            每隔多少秒截一张小图。
        </td>
    </tr>
	<tr>
        <td>
            填充方式(FillType)
        </td>
        <td>
            只支持留黑。
        </td>
    </tr>
</table>


### 发起雪碧图截图
可以通过如下几种方式发起雪碧图截图：
- [服务端API：截取雪碧图](/document/product/266/8101)；
- [使用任务流处理视频](/document/product/266/11700#.E4.BD.BF.E7.94.A8.E4.BB.BB.E5.8A.A1.E6.B5.81.E5.A4.84.E7.90.86.E8.A7.86.E9.A2.91)。

### 获取雪碧图截图结果
可以通过如下两种方式获取雪碧图截图的结果：

- 在发起雪碧图截图任务之后，根据任务ID查询该任务的状态与结果，参见[事件通知与任务管理](/document/product/266/7829)；
- 在雪碧图截图任务成功执行完毕之后，截图结果将被绑定到媒资，参见服务端API：[获取视频信息(GetVideoInfo)](/document/product/266/8586)。

## 预置截图模板
### 预置时间点截图模板
| 模板ID | 输出格式(Format) | 宽度(Width) | 高度(Height) | 填充方式(FillType) |
|---------|---------|---------|---------|---------|
| 10 | JPG | 同源 | 同源 | N/A |

### 预置采样截图模板
| 模板ID | 输出格式(Format) | 宽度(Width) | 高度(Height) | 采样方式(SamlpeType) | 截图间隔(Interval) |
|---------|---------|---------|---------|---------|
| 10 | JPG | 同源 | 同源 | Percent | 10% |

### 预置雪碧图模板
| 模板ID | 输出格式(Format) | 小图宽度(Width) | 小图高度(Height) | 行数(Row) | 列数(Column) | 截图间隔(Interval) | 填充方式(FillType) |
|---------|---------|---------|---------|---------|---------|---------|---------|
| 10 | JPG | 142 | 80 | 10 | 10 | 10秒 | 留黑 |