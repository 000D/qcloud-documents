要使用实时音视频功能，首先需要在[ 腾讯云官网 ](https://cloud.tencent.com/product/trtc)完成服务开通。
![实时音视频](https://main.qcloudimg.com/raw/064ed162114ef632401ce20971470f39.png)

## 实时音视频应用

开通实时音视频服务后，可以登录 [腾讯云控制台](https://console.cloud.tencent.com/)，在云产品中点击【 实时音视频产品 】，通过点击页面左上角【 创建应用 】，创建一个实时音视频应用。创建后，便可获取 SDK 中需要的应用标识( sdkAppid )和帐号类型( accountType )
![](https://main.qcloudimg.com/raw/91a97eeac74addfd18184e5ca19609e9.png)
![](https://main.qcloudimg.com/raw/18de46888b1240c1e2d505ee4894ce19.png)
>注意：
一个腾讯云帐号允许创建多个实时音视频应用。

### 应用标识（sdkAppId）
应用标识（sdkAppId）是腾讯云后台用来区分不同 App 的标识，在后台开通服务并且创建实时音视频应用后，会自动为你的应用生成一个应用标识。

### 帐号类型（accountType）
帐号类型（accountType）是登录实时音视频应用的帐号类型，也是在创建实时音视频应用后自动分配，用于用户鉴权功能。

## 用户鉴权
### 用户标识（identifer）
用户标识（identifer）用于在一个实时音视频应用中唯一标识一个用户

#### 特点
- 用户标识是用户登录开发者系统的帐号在腾讯云上的映射。开发者一般直接拿用户名当 identifier。
- 长度建议不超过 32 字节。请使用英文字符和下划线，不能全为数字，大小写不敏感。

### 用户签名（userSig）
用户签名（userSig）是用于对一个用户进行鉴权认证，确认用户不是假冒的。
#### 用户签名的生成
您可以在自己的业务后台调用[ 实时音视频服务器 SDK](https://cloud.tencent.com/document/product/268/7656)，为用户计算一个用户签名，颁发给客户端并填入 SDK 中。
其中的私钥可以在腾讯云控制台下载
![私钥](https://main.qcloudimg.com/raw/4c51d3cea6320be6c7a93b99b1196a40.png)
推荐的用户签名获取流程
![计算sig](https://main.qcloudimg.com/raw/a5e79bee89cd0aa33d988313bd0ea286.png)


>注意:
>- 用户签名是有效期( 在生成时设置，一般为三个月 )的，超过期限的用户签名无法使用
>- 用户使用用户签名过程中，用户签名过期，会出现被踢下线，SDK 会上抛相应的事件通知( 需要用户设置监听 )

- 调试期间：
>  可以使用腾讯云控制台的开发辅助工具，手动生成 userSig。

![](https://main.qcloudimg.com/raw/1d4cd453e7f4f238a0c1e7230bd45141.png)


## 房间
我们通常将一个音视频空间称为房间，同一房间内的用户可以相互观看对方的实时视频。
我们用房间号来标识一个房间，即在同一个实时音视频应用中间号相同的房间，可以认为是同一个房间。

### 特点
- 实时音视频使用房间这个虚拟的概念，用于用户之间的相互隔离。
- 房间号是开发者自行维护和分配的，是一个取值范围从 1 到 10000000 的数字。
- 只有在同一个房间里的用户可以相互看到音视频。
- 一个用户同时只能在一个房间内。如果要进入另一个房间，必须从前一个房间内退出，或者调用切换房间接口。

### 创建房间的注意事项
- 第一个创建房间的用户即这个房间的所有者，但他无法主动解散这个房间。
- 如果所有的用户都退出了房间，30 秒后服务器也会自动解散这个房间。
- 当用户要加入的房间不存在的时候，实时音视频后台会先创建这个房间，然后再把用户加入。


## 角色配置

### 角色
在实时音视频中，我们将音视频相同的一套参数配置( 包含分辨率、采集帧率等等 )全集，称为角色。

### 角色名
在视频云控制台中，为指定终端平台创建了一组参数配置后，可以给这组配置取一个名称，这个名称就是角色名。
用户在房间中打开摄像头/麦克风上行音视频流时，开始上行数据时，在进房时可以通过角色名指定使用的角色，来确定上行数据的参数。
用户需要先在[ 腾讯云控制后台 ](https://console.cloud.tencent.com/ilvb)可以为不同的终端平台，根据需要添加一组参数配置，并为这组配置起一个角色名。
![角色配置](https://main.qcloudimg.com/raw/40960a366306f6aa4a1da5b072e2c043.png)

>注意：
>- 如果进房间时配置的角色名并没有在控制台配置，不会导致进房失败，但会使用默认角色。
>- 进入房间成功后，用户可以通过角色切换接口来切换角色。
>- 使用角色切换接口切换角色时，如果要切换的角色名不存在，会回抛一个失败的回调。
>- 角色配置修改后，客户端需要重新登录才能够让配置生效( SDK 会在登录成功后去后台拉取配置，若拉取失败也会导致角色找不到 )。


## 群组系统

### 群组
群组系统，本质上就是一个支持多人聊天的即时通讯系统，而群组就是一个多人可以相互聊天的空间，腾讯云的群组有五种类型：私有群，公开群，聊天室，互动直播聊天室，在线成员广播大群。

|类型|名称|最高支持成员数量|回收时间|适用场景|
|--|--|--|--|--|
|Private|私有群|200|30天|适用于较为私密的聊天场景，群组资料不公开，只能通过邀请的方式加入，类似于微信群|
|Public|公开群|2000|无|适用于公开群组，具有较为严格的管理机制、准入机制，类似于 QQ 群|
|ChatRoom|聊天室|10000|无|群成员可以随意进出，组织较为松散|
|AVChatRoom|互动直播聊天室|无限制|无|适用于实时音视频场景，管理上与聊天室相似，但群成员人数无上限；支持以游客身份（不登录）接收消息|
|BChatRoom|在线成员广播大群|无限制|无|适用于需要向全体在线用户推送消息的场景|

>注意：
> 群组和房间是两个完全独立的概念，两者之前没有直接关联。

### 消息
我们将一次独立发送和接收的信息称为消息，iLiveSDK 中消息用 ILiveMessage 类来描述，主要有三种类型：文本消息，自定义消息，[其它消息](https://cloud.tencent.com/document/product/269/9232#1.2-.E6.96.87.E6.9C.AC.E6.B6.88.E6.81.AF.E5.8F.91.E9.80.81)。
