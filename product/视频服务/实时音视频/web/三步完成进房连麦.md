## 第一课 三步完成进房连麦

### 导语
欢迎来到第一课!

在本节课程中，并向腾讯云完成登录过程。

### 预备知识

本课程要求用户在[实时音视频官网](https://cloud.tencent.com/product/trtc)完成服务开通及应用创建。



### step 1 页面准备
> 视频播放的媒介是 H5 提供的 Video (音视频)   和 Audio (纯音频)

```html
<body >
    <!-- 音视频 -->
    <!--
        本地视频流 
        muted:
            本地视频流的video必须置为静音（muted)，否则会出现啸叫/回声等问题
            Mac / iPhone / iPad 需要用js设置muted属性
        autoplay：必须为激活状态
        playsinline：保证在ios safari中不全屏播放
     -->
    <video id="localVideoMedia" muted autoplay playsinline></video>
    <!-- 远端视频流 -->
    <video id="remoteVideoMedia" autoplay playsinline></video>


    <!-- 纯音频 -->
    <!-- 本地音频流 / 这种场景下，localaudio 其实没有播放的必要了，可以用来调试 -->
    <!-- <audio id="localAudioMedia"  muted autoplay></audio> -->
    <!-- 远端音频流 -->
    <!-- <audio id="remoteAudioMedia" autoplay ></audio> -->
    <script src="https://sqimg.qq.com/expert_qq/webrtc/2.0/WebRTCAPI.min.js"></script>
</body>
```


### Step 2 初始化
```javascript
var RTC = new WebRTCAPI({
    "openid": openid,
    "preconn": 0,
    "sdkAppId":  sdkappid,
    "accountType":  accountType,
    "userSig": userSig,
    "closeLocalMedia": false
});
```


### Step 3 进入房间 & 事件监听
```javascript
// 创建或进入房间
RTC.createRoom({
    roomid : $("#roomid").val(),
    role : "user"   //画面设定的配置集名 （见控制台 - 画面设定 )
});

//本地流 新增
RTC.on("onLocalStreamAdd", function(data){
    if( data && data.stream){
        document.querySelector("#localVideo").srcObject = data.stream;
    }
});
//远端流 新增/更新
RTC.on("onRemoteStreamUpdate", function(data){
    if( data && data.stream){
        document.querySelector("#remoteVideo").srcObject = data.stream;
    }
});
```





[下一课 进阶API](进阶API.md)