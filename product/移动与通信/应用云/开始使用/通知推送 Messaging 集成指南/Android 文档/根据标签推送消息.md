## 添加标签

您可以登录 [MobileLine 控制台](https://console.cloud.tencent.com/tac)，点击【移动推送】下的【精准推送】，并选择【标签管理】，然后点击【添加标签】按钮，如图这里添加预设标签中的不活跃用户标签，标签名定义为 `inactive_user`。

![](replaceme)

> 目前只支持添加预设标签，自定义标签即将推出。

## 绑定标签

### 调用绑定标签代码

您可以调用如下代码来绑定在控制台上添加的标签：

```
String tag = "inactive_user"; // inactive_user 标签必须先在控制台上添加
TACMessagingService.getInstance().bindTag(this, tag);
```

> 您也可以通过后台接口来绑定标签

### 验证标签是否绑定成功

绑定标签成功后，Messaging SDK 会回调在接入 Messaging 服务时配置的 TACMessagingReceiver 子类的 onBindTagResult() 方法，您可以在该方法中调用如下方法打印日志：

```
// 绑定标签后回调此接口。
@Override
public void onBindTagResult(Context context, int code, String tag) {

	Toast.makeText(context, "绑定标签结果返回：" + code, Toast.LENGTH_SHORT).show();
    Log.i("messaging", "MyReceiver::onBindTagResult : code is " + code + ", tag is " + tag);
}
```

绑定标签成功后，会弹出 toast 并打印如下日志：

```
I/messaging: MyReceiver::onBindTagResult : code is 0, tag is inactive_user
```

同时您也可以在控制台上查看该标签的覆盖用户：

![](replaceme)


## 通过标签发送通知


打开 [MobileLine 控制台](https://console.cloud.tencent.com/tac)，选择【创建推送】下的【通知栏消息】，并填写好 通知标题 和 通知内容，然后在推送目标下选择标签。最后点击【确认推送】。

![](replaceme)

> 您也可以使用我们的后台接口来推送通知

## 验证通知是否发送成功

推送通知栏消息成功后，若 Messaging SDK 接收到了通知，则会在通知栏上展示，并且会回调在接入 Messaging 服务时配置的 TACMessagingReceiver 子类的 onNotificationArrived() 方法，您可以在该方法中调用如下方法打印日志：

```
// 收到通知栏消息后回调此接口。
@Override
public void onNotificationArrived(Context context, TACNotification tacNotification, PushChannel pushChannel) {

    Toast.makeText(context, "收到通知消息：" + pushChannel, Toast.LENGTH_LONG).show();
    Log.i("messaging", "MyReceiver::onNotificationArrived : notification is " + tacNotification + " pushChannel " + pushChannel);

}
```

收到通知后，会弹出 toast 并打印如下日志：

```
I/messaging: MyReceiver::onNotificationArrived : notification is TACNotification [msgId=1463713536, title=AndroidDemo, content=content, customContent={}, activity=com.android.demo.MainActivity, notificationActionType1] pushChannel XINGE
```

## 解绑标签

### 调用解绑标签代码

您可以调用如下代码来解绑已经绑定的标签：

```
String tag = "inactive_user"; // inactive_user 标签必须先在控制台上添加
TACMessagingService.getInstance().unbindTag(this, tag);
```

### 验证标签是否解绑成功

绑定标签成功后，Messaging SDK 会回调在接入 Messaging 服务时配置的 TACMessagingReceiver 子类的 onUnbindTagResult() 方法，您可以在该方法中调用如下方法打印日志：

```
// 绑定标签后回调此接口。
@Override
public void onUnbindTagResult(Context context, int code, String tag) {

	Toast.makeText(context, "绑定标签结果返回：" + code, Toast.LENGTH_SHORT).show();
    Log.i("messaging", "MyReceiver::onUnbindTagResult : code is " + code + ", tag is " + tag);
}
```

解绑标签成功后，会弹出 toast 并打印如下日志：

```
I/messaging: MyReceiver::onUnbindTagResult : code is 0, tag is inactive_user
```
