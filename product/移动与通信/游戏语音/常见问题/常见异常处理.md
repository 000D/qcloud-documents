## 异常问题解决
###1.Q： 加入房间超时问题
     A：加入房间超时有多种原因，请对应解决：
         （1）游戏Key和游戏id不匹配；
         （2）没有在GCloud官网开通服务；
         （3） 网络不通；
         （4） 测试环境，DAU超过了100的限制。

###2.Q：在editor和pc上，取消x86是ok，但取消x86_64会找不到dll，应该怎么解决？
     A：x86的配置 成x86的，64配置成64的。 unity64位默认会找64位的dll，不能取消，否则editor运行就会报dllnotfound。
###3.Q：打开麦克风之后，游戏背景音乐变得很小声，是什么原因？
     A：属于正常现象，开麦克风后，为了消除回声、优化实时交流体验，会进入Voip通话模式，游戏背景音会变小。

###4.Q：Android OpenMic失败或者返回GCLOUD_VOICE_INTERNAL_TVE_ERR = 0x5001, //20481, internal TVE err, our used 以及GCLOUD_VOICE_PERMISSION_MIC_ERR = 0x3003, //12291, you have not right to access micphone in android, 应如何解决？
     A :（1）确认java中有没调用GCloudVoiceEngine的init方法，如下图所示：
![](https://i.imgur.com/3M0WXAc.png)
         （2）确认下android.support.v4.jar的版本，因为语音引擎中使用了相关函数检查麦克风权限，因此需要确保该jar包版本在6.0以上，否则，在Android 6.0上开麦克风会返回GCLOUD_VOICE_PERMISSION_MIC_ERR失败码。点击此处下载android.support.v4 6.0+

###5.Q：Xcode连接提示找不到SDK里面函数的实现，并有提示x86，是什么原因？
     A：SDK不支持Xcode模拟器调试，需要插入真机或者选择“Generic iOS Device"。

###6.Q：Android部分较老的手机上出现 "cant find library"的出错提示，是什么原因？
     A：需要在ApplicationAvtivity里面做"System.loadLibrary("GCloudVoice")"操作，示例代码：
     static {
            try {
                 System.loadLibrary("GCloudVoice");
       } catch (UnsatisfiedLinkError e) {
              System.err.println("load library failed!!!");
       }
     }

###7.Q：Android手机上出现“Cant find method ApolloVoiceUUID"字眼日志，是什么原因？
     A：检查SDK的jar包和.so文件是否来自同一个版本。

###8.Q：Android手机上出现"Can't Read config files"的异常日志，是什么问题？
     A：Android检查Assets目录是否正常合入，iOS检查Bundle文件是否加入到Xcode工程中。

###9.Q：自行修改AudioSession会影响语音功能吗？
     A：会。因为AudioSession是App单例，所以会影响功能使用。

###10.Q： 如何实现文档中Unity接入的第二步：修改Java文件？
     A：有两种方案，任选其一即可
          （1）把Unity导出一个Android工程，然后在里面修改Java代码。第二种是按照Unity插件的
          （2）按照Unity插件的形式，在Plugins/Android目录下放一个集成了UnityPlayerActivity的ApplicationActiviy的类，然后在里面实现。

###11.Q：iOS链接报错: dumplicate symbol * in: /libGCloudVoice.a(.o), 应该如何解决？
     A：工程设置中的other link flag 不要使用all_load，若有其他库需要使用all-load，可以使用force_load链接相关库。
###12.Q：iOS接入后运行崩溃，是什么原因？
     A：在iOS10.0及以上系统需要在工程Info.plist中添加权限 Privacy - Microphone Useage DescriptioniOS接入为静态库容易与其他语音相关组件发生函数同名导致调用过程中出错，因此建议接入时检查之前接入组件是否已经删除。 42.Q：applymessagekey超时错误，是什么问题？
     A：applymessagekey出现超时错误，请首先确认设置的appid和key是否已经开通了语音服务；如果已经开通语音服务，仍出现超时错误，请检查网络是否正常。
###13.Q：两人加入同一房间后听不到对方说话；
     A :（1）确认两人加入的是同一个房间。
         （2）确认说话方打开了麦克风和收听方打开了扬声器。
         （3）两个加入同一房间是否用了同样的OpenId(在SetAppInfo中设置），请确保进入同一房间的用户具有不同的OpenId。

###14.Q：录音上传提示失败，应该如何处理？
     A：参考日志发现文件长度为0，查看所给路径是否存在，要保证目录已经创建；另外，要具体到文件名，比如/sdcard/com.qq.gcloud/voice/11.dat。

###15.Q：unity加入房间成功，ios平台上有调用poll，但是收不到回调信息？应该如何处理？
     A：这个会在Unity5.5版本出现，主要是因为unity5.5平台有改动，导致poll失效，更新到最新版本GVoice即可。
###16.Q：调用JoinRoom、QuitRoom、ApplyMessageKey等相关函数后，没有回调，是什么问题？
     A：检查是否有持续调用Poll函数，来驱动获取回调消息。
###17.Q：DownloadRecordFile出错， log出现response status = 400 Bad Request，是什么原因？
     A：很有可能是传入的FileID非法，可通过HardCode一个合法的fileid来验证。
###18.Q：Mac下Unity中Editor直接运行，报DLlNotFound错误，是什么原因？
     A：目前不支持Mac下直接运行Unity Editor调试，可在Win下Unity Editor来调试。
###19.Q：Windows中运行Unity Editor调试时，提示DllNotFound，应该如何处理？
     A：查看Unity工程对应目录中是否有添加X86和x86_64文件、里面是否有dll和dll配置是否如图所示
![](https://i.imgur.com/GbUStYk.png)
![](https://i.imgur.com/MVDLwDr.png)

###20.Q：程序运行时崩溃，提示“findclass error”，应该如何处理？
     A：将Apk反编译，确定GCloudVoice.jar已经编译到Apk中了。

###21.Q：iOS编译报错，应该如何处理？
     A：查看是否有链接系统库:
![](https://i.imgur.com/PXsoMDM.png)

###22.Q：iOS接入后运行崩溃，是什么原因？
    A：在iOS10.0及以上系统需要在工程Info.plist中添加权限 Privacy-Microphone Useage DescriptioniOS接入为静态库容易与其他语音相关组件发生函数同名导致调用过程中出错，因此建议接入时检查之前接入组件是否已经删除。
![](https://i.imgur.com/L02E5zl.png)
![](https://i.imgur.com/nfu1HrF.png)

###23. 调用SpeechToText，回调返回GV_ON_STT_APIERR结果
(1)请确认翻译的录音文件是在SetMode(GCloudVoiceMode.Translation)模式下录制的。

(2)若还是返回错误，请取下log联系并发送给我们定位问题。

###24. Q：libGCloudVoice.so not found
问题截图： 
![](https://i.imgur.com/Z8okS2d.png)

    A：
    1. 加上system.loadlibrary， 放在libMyGame.so加载之前；
    2. 加到activity里
    static {
    System.loadLibrary("GCloudVoice");
    }

###25. Q：no such file or direcory:
![](https://i.imgur.com/TCEXGXw.png)

    A:凡是no such file or direcory:xxxxx
    都是没有相关文件,缺乏相关文件


###26. Q:unity 使用il2cpp 编译,用gcloud_voice.GCloudVoiceEngine.GetFileParam 获取的时间长度为0 

    A:可能是3个原因
    （1）没有给授权访问麦克风
    （2）Androidmanifest.xml中没有record权限
    （3）路径错误


###27. Q:录音失败、开麦失败
    A:确保有这两个权限开启：MODIFY_AUDIO_SETTINGS,RECORD_AUDIO

###28. Q:OpenMic返回200
    A:没有开启麦克风







