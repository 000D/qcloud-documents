### 一、通过微信公众平台授权登录腾讯云

打开[微信公众平台](https://mp.weixin.qq.com)注册并登录小程序，点击左侧菜单栏中的“设置”，接着点击右侧 Tab 栏中的“开发者工具”，接着点击“腾讯云”，进入腾讯云工具页面，点击开通。此后会弹出一个二维码，通过小程序绑定的微信扫码即可将小程序授权给腾讯云，开通之后会自动进去腾讯云微信小程序控制台，显示开发环境已开通，此时可以进行接下来的操作。

###### 此时通过小程序开发者工具查看腾讯云状态并不会同步，状态会在第一次部署开发环境之后才会同步腾讯云的状态到微信开发者工具上。

![进入微信公众平台后台](https://user-images.githubusercontent.com/3380894/29357289-92f2745a-82a9-11e7-9b42-d1a530f94da2.jpg)

![开通腾讯云](https://user-images.githubusercontent.com/3380894/29357290-92f31086-82a9-11e7-818a-038a0cfd72fc.jpg)

![腾讯云微信小程序控制台](https://user-images.githubusercontent.com/3380894/29357742-2c97ba88-82ab-11e7-8947-de819ad5aa45.png)

### 二、安装开发工具

下载并安装最新版本的[微信开发者工具](https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html)，使用小程序绑定的微信号扫码登录开发者工具。

![微信开发者工具](https://user-images.githubusercontent.com/3380894/30306146-39fca9f0-97a9-11e7-88a7-56efcdd1b323.png)

### 三、导入 DEMO 和配置

你可以通过两个途径访问 Github 上 `wafer2-quickstart` 项目下载 Demo 代码：

1. 访问[仓库主页](https://github.com/tencentyun/wafer2-quickstart)，绿色的 `clone or download` 按钮，并点击 `Download ZIP`，下载打包好的 Demo 代码。

   ![下载代码](https://user-images.githubusercontent.com/3380894/30306680-320cd398-97ac-11e7-9f20-eda148861ee9.png)

2. 通过 git clone 下载代码并安装依赖：

   ```bash
   git clone https://github.com/tencentyun/wafer2-quickstart.git
   ```

**安装依赖**

###### 这步可以跳过，你可以使用线上直接安装依赖

接着在下载下来的目录打开 CMD 安装依赖：

```bash
# 切换到 server 文件夹
cd server

# 安装依赖
npm install
```

![安装依赖](https://user-images.githubusercontent.com/3380894/30306727-7db4733c-97ac-11e7-95d1-253bc4b9c1ea.png)

### 四、上传和部署代码

打开第二步安装的微信开发者工具，点击“小程序项目”按钮，输入小程序 AppID，项目目录选择上一步下载下来的代码目录，点击确定创建小程序项目。

*** 注意：目录请选择 `quickstart` 根目录。包含有 `project.config.json`，请不要只选择 `client` 目录！** 

![上传代码](https://user-images.githubusercontent.com/3380894/30306247-b7b63636-97a9-11e7-9b5a-daa0b2db33e6.png)

点击 “确定” 进入开发者工具。

![开发者工具](https://user-images.githubusercontent.com/3380894/30306318-0b7c442c-97aa-11e7-9080-ae47c50cec12.png)

打开 Demo 代码中 `server` 目录下的 `config.js` 文件，将其中的 `mysql` 配置项的密码 `pass` 改成你的微信小程序 AppID，并**保存**。

![修改 MySQL 密码](https://user-images.githubusercontent.com/3380894/30306357-41ac94ac-97aa-11e7-9872-7f5612f99fbc.png)

接着点击界面右上角的腾讯云按钮，在下拉的菜单栏中选择“上传测试代码”，选择“模块上传”并勾选全部选项，然后勾选“部署后自动安装依赖”，点击确定开始上传代码：

![上传按钮](https://user-images.githubusercontent.com/3380894/30306411-8c9a9aea-97aa-11e7-92bb-a571cc436b85.png)

![选择模块](https://user-images.githubusercontent.com/3380894/30306412-8df08f4e-97aa-11e7-9a5b-7ab82c58c63d.png)

![7](https://user-images.githubusercontent.com/3380894/30306455-dc3f612a-97aa-11e7-8add-d3268b63d725.png)

上传代码完成之后，点击右上角的“项目”按钮，接着选择“腾讯云状态”即可看到腾讯云自动分配给你的开发环境域名：

![查看开发域名](https://user-images.githubusercontent.com/3380894/30306493-0f7b5b48-97ab-11e7-9225-ca6c9de9fcf4.png)

完整复制（包括 `https://`）开发环境 request 域名，然后在编辑器中打开 `client/config.js` 文件，将复制的域名填入 `host` 中并保存，保存之后编辑器会自动编译小程序，左边的模拟器窗口即可实时显示出客户端的 Demo：

![修改客户端配置](https://user-images.githubusercontent.com/3380894/30306556-6b32f144-97ab-11e7-90bd-576ebbcb7588.png)

在模拟器中点击登录，看到显示登陆成功，即为开通完成，可以开始你的其他开发了。

![登录测试](https://user-images.githubusercontent.com/3380894/30306599-aa38da98-97ab-11e7-9e0f-57fa21a269f3.png)
