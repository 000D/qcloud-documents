## 调用方法
如何连接到腾讯云服务器是个首先要解决的问题，目前腾讯云服务端集群内部是分为两个层级的：
- **接入层：**
  负责外部请求调用的接入，比如1分钟100次的频率调用限制，比如对于腾讯云客户的服务器身份验证（基于SecretId和SecrectKey等等）。

- **功能层：**
  躲在接入层后面，既然接入层已经完成了安全确认和攻击屏蔽，功能层就只需要做自己的功能处理就行了，频道管理、文件查询等基本功能都是在这个部分实现的。
	
	![api](//mc.qcloudimg.com/static/img/963c7973a3d5a77d6bd36d1cf3fd65ca/image.png)
	
您的服务器要调用腾讯云的服务端API，首先要过接入层这一关，她会要求：
- 您的请求协议必须是HTTPS
- 您的请求头必须符合腾讯云的接入格式
- 您的请求头必须要包含正确的SecretId和Signature

所以...

## 服务端SDK
推荐您使用[腾讯云服务端SDK](https://www.qcloud.com/doc/sdk)，目前提供了如下几种语言的版本：
- [PHP](https://www.qcloud.com/doc/sdk/217/PHP)
- [Python](https://www.qcloud.com/doc/sdk/217/Python)
- [Java](https://www.qcloud.com/doc/sdk/217/Java)
- [.Net](https://www.qcloud.com/doc/sdk/217/.NET)
- [Node.js](https://www.qcloud.com/doc/sdk/217/Node.js)

这些SDK的目的只有一个：帮您以最简单的方式连上腾讯云服务器，而且确保中间链路安全可靠不被攻击。

## 错误排查
调用腾讯云服务端API，您可能会得到如下的这种错误码，它分成两个部分，前面一个code部分是腾讯云**接入层的错误码**，后面的**message**代表了错误的详细信息。

### unicode
```
{"code":4600,"message":"\u534f\u8bae\u4e0d\u652f\u6301\uff0c\u8bf7\u53c2\u8003\u6587\u6863\u8bf4\u660e\u3002"}
```
有些平台下拿到的message是如上的unicode形式的字符串，遇到这种情况打开chrome浏览器转义一下就行了。
> 打开chrome浏览器按F12进入开发者模式，在右下角的Console面板里输入：
> "\u534f\u8bae\u4e0d\u652f\u6301\uff0c\u8bf7\u53c2\u8003\u6587\u6863\u8bf4\u660e\u3002" 
> 就能得到转以后的结果"协议不支持，请参考文档说明。"
> 

### 双错误码
当然，正常情况下，您看到的信息提示一般都是标准中文的，如下所示：
```
{"code":5100,"message":"20108：频道处于非编辑状态"}
```
您会看到这里有两个错误码：
- **5100** ：这个是接入层的错误，如果是鉴权等问题，这里直接就被拦住了，但是5100有点特殊，它的意思是：“我这边安全检查都没问题，我后面的功能层让我转好您，说您的请求有问题。”

- **20200**：这里是实打实功能层错误码，是具体功能模块返回的，比如20108代表“频道处于非编辑状态”。

错误码的查询统一参考[错误码表](https://www.qcloud.com/doc/api/258/4733)。
