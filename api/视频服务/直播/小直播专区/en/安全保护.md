
3. 
访客模式是我们的推荐方案，因为该模式即简单有好用，一个GuestLogin函数就能解决问题，但它并没有很好地机制来进行身份鉴权，任何一个App用户都可以拿到一个访客账号，拿到访客账号既可以收发消息。

对于直播聊天室场景而言，消息的鉴权并不是特别重要，因为直播室里的聊天消息本身就不严肃。但如果您的场景需要实现**只有注册用户才能收发消息**，就要完成腾讯云IM通讯系统和您的账号系统的绑定。

相比于访客模式，要完成腾讯云IM通讯系统和您的账号系统的绑定，在对接步骤要繁琐很多，毕竟它要面对的问题是安全信任问题，如下是对接步骤：

> 1. 在腾讯云通讯[管理控制台](https://console.qcloud.com/avc)，将集成模式改成**独立模式**，并下载签名用的公私钥。
> ![](//mc.qcloudimg.com/static/img/4e79ff175d8053f8998e02732468e398/image.png)
> 
> 2. 手机App的登录逻辑依旧按您原来的流程，即ID + PASSWORD到您的登录服务器进行验证。如果登录成功了，您的登录服务器需要额外签发一个UserSig签名给App，该签名使用步骤1中下载到的私钥对相应的ID进行[非对称加密](https://www.qcloud.com/doc/product/269/1510)。
>
> 3. 手机App在拿到ID和UserSig以后，就可以调用IM SDK的imLogin(ID, UserSig)接口进行登录了，腾讯云后台会使用步骤一中相应的公钥进行解密，从而验证ID是否得到了您的登录服务器的认可。

以上步骤的示意图如下：
![](//mc.qcloudimg.com/static/img/1e541b2931d0cb8fb1815f26aa8fb493/image.png)
