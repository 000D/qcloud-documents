## 1. 接口描述
本接口（DescribeTdsqlResourceUsage）用于查看数据库实例资源的使用情况。
接口请求域名：**_tdsql.api.qcloud.com_**。

## 2. 输入参数
以下请求参数列表仅列出了接口请求参数，正式调用时需要加上公共请求参数，见[公共请求参数](/doc/api/309/7016)页面。
其中，此接口的 Action 字段为 DescribeTdsqlResourceUsage。

| 参数名称| 类型| 是否必选| 描述|
|---------|---------|---------|---------|
| Version|String|是|表示 API 版本号，主要用于标识请求的不同 API 版本。 本接口第一版本可传：2017-03-12。|
| CdbInstanceId | String | 是 | 实例 ID|
| StartTime | date |是 |  开始日期，格式：yyyy-mm-dd|
| EndTime | date |是 |  结束日期，格式：yyyy-mm-dd|

## 3. 输出参数

| 参数名称 | 类型 | 描述 |
|---------|---------|---------|
| RequestId| String| 唯一请求 ID。每次请求都会返回 `RequestId`。当用户调用接口失败找后台研发人员处理时需提供该 `RequestId`。|
| Data | Object | 对应性能的点阵 |

按时间顺序先后返回各个时间段的数据值，连续时间段如果值相同将被合并为[段数，值]的形式。比如[2，3]就表示连续 2 个时间段的值为 3，
一个时间段的长度由请求的开始时间和结束时间的差值决定，小于**一天**是**五分钟**一段，大于**一天**小于**七天**是**三十分钟**一段，大于**七天**是**两个小时**一段。

指标列表

|指标名|含义|
|------|-----|
|binlog_disk_available|binlog 日志磁盘可用空间，单位 GB|
|cpu_usage_rate|CPU 利用率|
|mem_available|内存可用空间，单位 GB|
|data_disk_available|磁盘可用空间，单位 GB|

## 4. 错误码表

以下是本接口常见的错误码，如果有不在此列的错误请查阅 [TDSQL 错误码表](/doc/api/309/7150)

| 错误码 | 描述 |
|---------|---------|
| DbOperationFailed| DB内部失败 |
| TdsqlCallbackFailed| Tdsql回调失败 |
## 5. 示例
输入
<pre>
https://tdsql.api.qcloud.com/v2/index.php?Action=DescribeTdsqlResourceUsage
&<<a href="https://cloud.tencent.com/doc/api/229/6976">公共请求参数</a>>
&Version=2017-03-12
&CdbInstanceId=tdsql-fdpjf5zh
&StartTime=2016-07-17
&EndTime=2016-07-18
</pre>

输出
```
{
	"Response": {
        "RequestId": "7abc2d63-b3a7-43dc-a13d-43a7b8bcfd09",
        "Data": {
            "binlog_disk_available": {
                "StartTime": "2016-07-17 00:00:00",
                "EndTime": "2016-07-18 23:59:59",
                "Data": [
                    [
                        161,
                        20.89
                    ],
                    [
                        91,
                        20.88
                    ],
                    [
                        36,
                        null
                    ]
                ]
            },
            "cpu_usage_rate": {
                "StartTime": "2016-07-17 00:00:00",
                "EndTime": "2016-07-18 23:59:59",
                "Data": [
                    37,
                    28,
                    [
                        4,
                        39
                    ],
                    42,
                    41,
                    42,
                    41,
                    42,
                    [
                        2,
                        40
                    ],
                    39,
                    [
                        2,
                        40
                    ],
                    43,
                    39,
                    45,
                    [
                        3,
                        39
                    ],
                    44,
                    43,
                    [
                        3,
                        39
                    ],
                    [
                        2,
                        40
                    ],
                    42,
                    41,
                    [
                        2,
                        40
                    ],
                    [
                        4,
                        39
                    ],
                    40,
                    39,
                    42,
                    39,
                    42,
                    [
                        4,
                        22
                    ],
                    31,
                    28,
                    26,
                    27,
                    29,
                    42,
                    7,
                    22,
                    19,
                    [
                        3,
                        5
                    ],
                    18,
                    15,
                    21,
                    5,
                    15,
                    [
                        3,
                        5
                    ],
                    6,
                    [
                        3,
                        5
                    ],
                    6,
                    [
                        10,
                        5
                    ],
                    6,
                    5,
                    6,
                    [
                        5,
                        5
                    ],
                    6,
                    [
                        8,
                        5
                    ],
                    6,
                    [
                        5,
                        5
                    ],
                    6,
                    [
                        51,
                        5
                    ],
                    12,
                    [
                        2,
                        5
                    ],
                    20,
                    23,
                    21,
                    25,
                    5,
                    27,
                    20,
                    [
                        2,
                        23
                    ],
                    21,
                    20,
                    21,
                    19,
                    39,
                    33,
                    29,
                    [
                        5,
                        39
                    ],
                    42,
                    40,
                    44,
                    40,
                    41,
                    39,
                    42,
                    39,
                    43,
                    [
                        2,
                        39
                    ],
                    [
                        2,
                        41
                    ],
                    39,
                    41,
                    42,
                    46,
                    [
                        2,
                        39
                    ],
                    41,
                    40,
                    39,
                    41,
                    45,
                    40,
                    43,
                    44,
                    40,
                    46,
                    [
                        2,
                        39
                    ],
                    [
                        2,
                        40
                    ],
                    41,
                    44,
                    39,
                    40,
                    41,
                    [
                        2,
                        40
                    ],
                    [
                        2,
                        39
                    ],
                    34,
                    [
                        3,
                        40
                    ],
                    39,
                    [
                        2,
                        40
                    ],
                    37,
                    39,
                    40,
                    37,
                    39,
                    31,
                    38,
                    33,
                    34,
                    30,
                    6,
                    22,
                    23,
                    24,
                    [
                        2,
                        22
                    ],
                    19,
                    18,
                    6,
                    14,
                    6,
                    [
                        2,
                        5
                    ],
                    [
                        36,
                        null
                    ]
                ]
            },
            "data_disk_available": {
                "StartTime": "2016-07-17 00:00:00",
                "EndTime": "2016-07-18 23:59:59",
                "Data": [
                    [
                        252,
                        100
                    ],
                    [
                        36,
                        null
                    ]
                ]
            },
            "mem_available": {
                "StartTime": "2016-07-17 00:00:00",
                "EndTime": "2016-07-18 23:59:59",
                "Data": [
                    [
                        231,
                        3.91
                    ],
                    [
                        21,
                        3.9
                    ],
                    [
                        36,
                        null
                    ]
                ]
            }
        }
    ｝
}
```

